{% load static %}
{% load humanize %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Font Awesome -->
<link
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
rel="stylesheet"
/>
<!-- Google Fonts -->
<link
href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
rel="stylesheet"
/>
<!-- MDB -->
<link
href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.2.0/mdb.min.css"
rel="stylesheet"
/>
<script
			src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
			integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
			crossorigin="anonymous"
			referrerpolicy="no-referrer"
		></script>
    <title>GraceForte Receipt</title>
</head>
<body>
    <section>
        <div class="card shadow-none" >
            <div class="card-body">
          
              <div class="container" id="invoice" style="margin-top: 0">
                <div class="row">
                  <div class="col-xl-12">
                    <img src="{% static 'images/logo.png' %}" alt="" width="150" height="150">
                  </div>
                </div>
          
          
                <div class="row mt-5">
                  <div class="align-items-center col-xl-12" id="headId">
                    <ul class="list-unstyled float-start">
                        <!-- <li style="font-size: 30px; color: blue;">GraceForte Academy</li> -->
                        <li class="text-muted"><b>To</b>: <span>{{receipt.user.user_profile.lastName}}</span>    <span>{{receipt.user.user_profile.firstName}}</span></li>
                        <li class="text-muted"><b>Email</b>: {{receipt.user.email}}</li>
                        <li class="text-muted"><b>Phone No</b>: {{receipt.user.user_profile.phone}}</li>
                      </ul>
          
                    <ul class="list-unstyled float-end" >
                        <li class="text-muted"><b>Issued Date</b>: {{dateApproved}}</li> 
                        <li class="text-muted"><b>ID</b>: {{receipt.receiptId}}</li>
                      <li class="text-muted"> <span class="me-1 fw-bold">Status:</span><span class="badge bg-success text-white fw-bold">
                        Paid</span></li>
                    </ul>
                  </div>
                </div>
          
                <div class="row text-center">
                  <h5 class="text-uppercase text-center mt-3 text-decoration-underline" style="font-size: 40px;">RECEIPT</h3>
                  <p style="visibility: hidden">123456789</p>
                </div>
          
                <div class="row mx-3">
                  <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">Description</th>
                        <th scope="col">Amount</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td><b>{{receipt.enrolledCourse.title}}</b></td>
                        <td><i class="fas fa-naira-sign"></i> {{receipt.expectedAmount|intcomma}}</td>
                      </tr>
                    
                    </tbody>
                  </table>
          
                </div>
                <div class="row">
                  <div class="col-xl-8">
                    <ul class="list-unstyled float-end me-0">
                      <li><span class="me-3 float-start">Total Amount:</span><i class="fas fa-naira-sign"></i> <b>{{receipt.expectedAmount|intcomma}}</b>
                      </li>
                    </ul>
                  </div>
                </div>
                <hr>
          
                <div class="row mt-5">
                 <div class="">
                  <p class="fw-bold">Date: <span class="text-muted">{{receipt.approvedDate}}</span></p>
                  <p class="fw-bold mt-3">Signature:</p></div>                 
                </div>
                <div class="d-flex justify-content-center">
                  <img src="{% static 'images/confirmed.png' %}" width="150" height="150" alt="">
                  </div>
                
          
              </div>     <br><br><br>
          
              <div class="container col-xl-12 d-flex justify-content-center">
                <button class="btn btn-success form-control btn-lg" onclick="generatePDF();">Download</button>
              </div><br><br><br>
            </div>
          </div>
    </section>


    <script>
      let opts = {
        margin: 0.5,
        html2canvas: {scale: 2, scrollY: 0},
        jsPDF: {unit: 'in', format: "letter", orientation: "portrait"}
      }

			function generatePDF() {
				// Choose the element that your content will be rendered to.
				const element = document.getElementById('invoice');
				// Choose the element and save the PDF for your user.
				html2pdf()
        .set(opts)
        .from(element).save();
			}

		</script>
</body>
</html>